{% macro notifications_template(notifications,current_user,id,class,res) %}
    {% if notifications %}
        <a tabindex="0" class="{{class}}" href='#' data-toggle="popover" title="<b>Notifications</b>"
         data-placement="bottom" data-html="true" id='{{id}}' data-content=" 
            <div class='list-group'>
            {% if notifications.count() > 0 %}
             {% for notification in notifications.limit(5) %}
               <a style ='margin-left:-5px;'href='
               {% if notification.type !='submit'%}
                 {{url_for(notification.route,department = notification.sender.department,
                 id = notification.data_id,noti =notification.id)}}
               {% else %}
                 {{url_for(notification.route,department = notification.sender.department,
                   id = notification.task.id,noti =notification.id,submit_id=notification.data_id)}}
                {% endif %}
               '
               class='
               {% if notification.clicked == False %}
                  list-group-item list-group-item-action list-group-item-info'
               {% else %}
                  list-group-item list-group-item-action'
               {% endif %}
                >
                <div class='media'>
                  <img class='rounded-circle noti-img' src='{{url_for('static',filename='profile_pics/'+notification.sender.image_file)}}'>
                  <div class='media-body'>
                    {{notification.data}}
                  </div>
                </div>
                <div class='article-department'>
                    <small class='btn-float-right'>{{notification.date.strftime('%d/%m/%Y, %H:%M')}}</small>
                </div>
               </a>
             {% endfor %}
            {% else %}
              <a class='list-group-item list-group-item-action' style ='margin-left:-5px;' href='#'>
                Woah!! No Notifications, Go find a wife.
              </a>
            {% endif %}
          </div>
          <div>
            <a href='{{url_for('notifications',user_id=current_user.id,mark_as_read=1)}}'>Mark all as read</a>
            <a class='btn-float-right' href='{{url_for('notifications',user_id=current_user.id,mark_as_read=0)}}'>View All</a>
          </div>">
            <svg xmlns="http://www.w3.org/2000/svg" width="{{res}}" height="{{res}}" style='margin-top: 5px;'fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16">
                <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>
            </svg>
            {% set count = notifications.filter_by(clicked=False).count() %}
            {% if count != 0%}
              <small class="badge badge-danger">{{count}}</small>
            {% endif %}
        </a>
    {% endif %}
{% endmacro %}
{% macro user_info(form) %}
    <div class="col" id='reg-user-info-div'>
        <legend class="border-bottom mb-4">Join Today</legend>
        <div class='row'>
            <div class='col'>
                <div class="form-group">
                    {{ form.first_name.label(class="form-control-label") }}<span style="color:#ff0000">*</span>
                    {% if form.first_name.errors %}
                        {{ form.first_name(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.first_name.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.first_name(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
            </div>
            <div class='col'>
                <div class="form-group">
                    {{ form.last_name.label(class="form-control-label") }}<span style="color:#ff0000">*</span>

                    {% if form.last_name.errors %}
                        {{ form.last_name(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.last_name.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.last_name(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="form-group">
            {{ form.username.label(class="form-control-label") }}<span style="color:#ff0000">*</span>

            {% if form.username.errors %}
                {{ form.username(class="form-control form-control-lg is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in form.username.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.username(class="form-control form-control-lg") }}
            {% endif %}
        </div>
        <div class="form-group">
            {{ form.birthdate.label(class="form-control-label") }}<span style="color:#ff0000">*</span>
            {% if form.birthdate.errors %}
                {{ form.birthdate(class="form-control form-control-lg is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in form.birthdate.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.birthdate(class="form-control form-control-lg") }}
            {% endif %}
        </div>
        <div class="form-group">
            {{ form.email.label(class="form-control-label") }}<span style="color:#ff0000">*</span>
            {% if form.email.errors %}
                {{ form.email(class="form-control form-control-lg is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in form.email.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.email(class="form-control form-control-lg",placeholder="name@example.com") }}
            {% endif %}
        </div>
        <div class='row'>
            <div class='col'>
                <div class="form-group">
                    {{ form.password.label(class="form-control-label") }}<span style="color:#ff0000">*</span>
                    {% if form.password.errors %}
                        {{ form.password(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.password.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.password(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
            </div>
            <div class='col'>
                <div class="form-group">
                    {{ form.confirm_pass.label(class="form-control-label") }}<span style="color:#ff0000">*</span>

                    {% if form.confirm_pass.errors %}
                        {{ form.confirm_pass(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.confirm_pass.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.confirm_pass(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endmacro %}

{% macro team_info(form) %}
<div class='col' style="overflow:hidden">
    <legend class="border-bottom mb-4">Team Information</legend>
    <div class="form-group">
        {{ form.position.label(class="form-control-label") }}<span style="color:#ff0000">*</span>

        {% if form.position.errors %}
            {{ form.position(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.position.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.position(class="form-control form-control-lg",onload='check()') }}
        {% endif %}
    </div>
    <div class="form-check" id='diff_pos' style="display:none;">
        {{ form.team_leader(class="form-check-input") }}
        {{ form.team_leader.label(class="form-check-label") }}
        <br></br>
    </div>
    <div class="form-group" id='department_div' style="display:none;">
        {{form.department.label(class="form-control-label")}}<span style="color:#ff0000">*</span>
        {% if form.department.errors %}
            {{ form.department(class="form-control form-control-lg is-invalid") }}
            <div class="invalid-feedback">
                {% for error in form.department.errors %}
                    <span>{{ error }}</span>
                {% endfor %}
            </div>
        {% else %}
            {{ form.department(class="form-control form-control-lg") }}
        {% endif %}
    </div>
    {{ form.submit(class="btn btn-outline-info btn-float-right") }}
</div>
{% endmacro %}